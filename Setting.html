<!DOCTYPE html>
<html>
<head>
	<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.js"></script>
<script>
const os = (u = window.navigator.userAgent) => {
	return {
		// 不同浏览器及终端
		isMobile:
	  !!u.match(/AppleWebKit.*Mobile/i) ||
	  !!u.match(
		/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/
	  ),
		isWechat: !!u.match(/MicroMessenger/i),
		isQQ: !!u.match(/QQ/i),
		isIos: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
		isAndroid: !!u.match(/(Android);?[\s/]+([\d.]+)?/),
		isiPhone: !!u.match(/(iPhone\sOS)\s([\d_]+)/),
		isSafari: !!u.match(/Safari/),
		isFirefox: !!u.match(/Firefox/),
		isOpera: !!u.match(/Opera/),
		isChrome: u.match(/Chrome/i) !== null &&
	  u.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i) === null ?
			true : false,
		isDeskTop: (() => {
			const Agents = [
				'Android',
				'iPhone',
				'SymbianOS',
				'Windows Phone',
				'iPad',
				'iPod',
				'okhttp/3.9.1'
			];
			let flag = true;
			for (let i = 0, LEN = Agents.length; i < LEN; i++) {
				if (u.indexOf(Agents[i]) !== -1) {
					flag = false;
					break;
				}
			}
			return flag;
		})()
	};
};
var browser = os();//获取浏览器信息
var Html5Plus = window.navigator.userAgent.match('Html5Plus') ? 'plus.H59EC0058' : false
var mt_settings = localStorage['设置选项'] ? JSON.parse(localStorage['设置选项']) : {}
</script>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<link rel="stylesheet" href="./MoeScript/Style/style.css" data-n-g="">
	<title>相关设置页面</title>
	<script src="./MoeScript/Script/Jquery.min.js"></script>
	<script src="./MoeScript/Script/localforage.min.js"></script>
	<script src="./MoeScript/Tools.js" defer=""></script>
	<script src="./MoeScript/Function.js" defer=""></script>
	<script src="./Data/MolluChar.json" defer=""></script><!-- 旧版学生 -->
	<script src="./Data/ClosureChar.json" defer=""></script><!-- closure学生 -->
	<script src="./Data/MT-Characters.JSON" defer=""></script><!-- 学生数据 -->
</head>
<body style="height:100%;overflow:auto;background-image:linear-gradient( rgba(255,255,255,0.5),rgba(255,255,255,0.5) ),url(Images/Ui/hexa_back_01.webp);background-repeat :no-repeat;background-size :cover;user-select:none;">
	<a href='#' onclick="window.history.back();"><b>返回MoeTalk</a></b>
	<h1>设置选项：</h1>
	<button class="button-container" ><a href='https://mirror.ghproxy.com/https://github.com/ggg555ttt/MoeTalk/archive/refs/heads/main.zip'><b style='color:black;'>下载最新版压缩包</a></b></button>
	<button class="button-container" ><a href='https://wj.qq.com/s2/14292312/3ade/' target='_blank'><b style='color:red;'>问题反馈</a></b></button>
	<h2><a>编辑界面相关：</a></h2>
	<button class="button-container" id='hnum'><b style='color:blue;'>设置自定义头像质量</b></button>
	<button class="button-container" id='mt-size'><b style='color:blue;'>设置整体图片宽高百分比</b></button>
	<button class="button-container" id='mt-cfsize'><b style='color:blue;'>设置差分表情宽高百分比</b></button>
	<button class="button-container" id='mt-fontSize'><b style='color:blue;'>设置移动端元素尺寸</b></button>
	<h2><a>存档相关：</a></h2>
	<button class="button-container" id='loadcus'><b style='color:white;'>恢复自定义角色存档</b></button>
	<button class="button-container" id='savedata'><b style='color:white'>下载localStorage存档</b></button>
	<button class="button-container" id='loaddata'><b style='color:white;'>读取localStorage存档</b></button>
	<button class="button-container" id='savemode'><b style='color:white;'>存储模式（测试）</b></button>
	<button class="button-container" id='backsave'><b style='color:white;'>后台保存模式（测试）</b></button>
	<h2><a>图片相关：</a></h2>
	<button class="button-container" id='hnum'><b style='color:blue;'>设置自定义头像质量</b></button>
	<button class="button-container" id='mt-size'><b style='color:blue;'>设置整体图片宽高百分比</b></button>
	<button class="button-container" id='mt-cfsize'><b style='color:blue;'>设置差分表情宽高百分比</b></button>
	<button class="button-container" id='mt-image'><b style='color:blue;'>更改生成图片格式</b></button>
	<button class="button-container" id='mt-maxheight'><b style='color:blue;'>限制生成图片的长度</b></button>
	<button class="button-container" id='mt-maxwidth'><b style='color:blue;'>限制生成图片的宽度</b></button>
	<button class="button-container" id='mt-zipdownimg'><b style='color:blue;'>打包下载图片</b></button>
	<h2><a>文字相关：</a></h2>
	<button class="button-container" id='mt-title'><b style='color:green;'>设置标题</b></button>
	<button class="button-container" id='language'><b style='color:green;'>更改语言</b></button>
	<button class="button-container" id='send'><b style='color:green;'>文字发送方式</b></button>
	<button class="button-container" id='font'><b style='color:green;'>字体加载选项</b></button>
	<div style="border:1px solid var(--m-3-sys-light-outline, #79747E)">
		<b style='color:green;'>字体大小</b>
		<br><b style='color:green;'>文字：</b><input type="text" title='chat' placeholder="1.2rem">
		<br><b style='color:green;'>回复：</b><input type="text" title='reply' placeholder="1.1rem">
		<br><b style='color:green;'>羁绊：</b><input type="text" title='heart' placeholder="1.1rem">
		<br><b style='color:green;'>旁白：</b><input type="text" title='info' placeholder="1.1rem">
		<br><button class="button-container" id='mt-fontszie'><b style='color:green;'>提交参数</b></button>
	</div>
	<h2><a>数据相关：</a></h2>
	<button class="button-container" id='cleancache'><b style='color:black;'>清除ServiceWorker缓存</b></button>
	<button class="button-container" id='clean'><b style='color:red;'>彻底清除本地数据</b></button>
	
	<h1>存档恢复:</h1>
	请上传由MoeTalk生成的png图片：<input type="file" id="file1">
	
	<p><a href="https://space.bilibili.com/13973390">B站主页</a></p>
	<p><a href="https://gitlab.com/ggg555ttt/MoeTalk">项目地址（gitlab）</a></p>
	<p><a href="https://github.com/ggg555ttt/MoeTalk">项目地址（github）</a></p>
	<h1 class="bold">设置信息：</h1>
	<p class="mt_settings bold" style="white-space: pre-wrap;"></p>
</body>
</html>